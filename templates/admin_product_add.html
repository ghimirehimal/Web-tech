{% extends "base.html" %} {% block title %}{% if product %}Edit{% else %}Add{%
endif %} Product - JUTTA LAGANI Admin{% endblock %} {% block extra_css %}
<style>
  .admin-section {
    padding: 40px 0;
    background: #f5f5f5;
    min-height: 100vh;
  }

  .admin-header {
    background:
      linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
      url("https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80");
    background-size: cover;
    background-position: center;
    padding: 40px 0;
    margin-bottom: 30px;
  }

  .admin-card {
    background: white;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
  }

  .form-label {
    font-weight: 500;
    margin-bottom: 8px;
  }

  .form-control,
  .form-select {
    border-radius: 10px;
    padding: 12px 15px;
    border: 1px solid #ddd;
  }

  .form-control:focus,
  .form-select:focus {
    border-color: #8b0000;
    box-shadow: 0 0 0 0.2rem rgba(139, 0, 0, 0.25);
  }

  .form-section {
    margin-bottom: 25px;
    padding-bottom: 25px;
    border-bottom: 1px solid #eee;
  }

  .form-section:last-child {
    border-bottom: none;
  }

  .section-title {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 20px;
    color: #8b0000;
  }

  .image-upload {
    border: 2px dashed #ddd;
    border-radius: 10px;
    padding: 40px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .image-upload:hover {
    border-color: #8b0000;
    background: rgba(139, 0, 0, 0.05);
  }

  .checkbox-wrapper {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .sidebar-admin {
    background: white;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
  }

  .admin-nav-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 15px;
    border-radius: 10px;
    color: #333;
    text-decoration: none;
    transition: all 0.3s ease;
    margin-bottom: 5px;
  }

  .admin-nav-link:hover,
  .admin-nav-link.active {
    background: #8b0000;
    color: white;
  }
</style>
{% endblock %} {% block content %}
<!-- Admin Header -->
<section class="admin-header">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center text-white">
      <div>
        <h2 class="mb-1">
          <i
            class="fas fa-{% if product %}edit{% else %}plus{% endif %} me-2"
          ></i
          >{% if product %}Edit{% else %}Add{% endif %} Product
        </h2>
        <p class="mb-0">
          {% if product %}Update product details{% else %}Create a new product{%
          endif %}
        </p>
      </div>
      <a href="{{ url_for('admin_products') }}" class="btn btn-outline-light">
        <i class="fas fa-arrow-left me-2"></i>Back to Products
      </a>
    </div>
  </div>
</section>

<!-- Admin Content -->
<section class="admin-section">
  <div class="container">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-lg-3">
        <div class="sidebar-admin">
          <a href="{{ url_for('admin_dashboard') }}" class="admin-nav-link">
            <i class="fas fa-tachometer-alt"></i> Dashboard
          </a>
          <a href="{{ url_for('admin_products') }}" class="admin-nav-link">
            <i class="fas fa-box"></i> Products
          </a>
          <a
            href="{{ url_for('admin_product_add') }}"
            class="admin-nav-link active"
          >
            <i class="fas fa-plus-circle"></i> Add Product
          </a>
          <a href="{{ url_for('admin_orders') }}" class="admin-nav-link">
            <i class="fas fa-shopping-cart"></i> Orders
          </a>
          <a href="{{ url_for('shop') }}" class="admin-nav-link">
            <i class="fas fa-globe"></i> View Store
          </a>
          <a href="{{ url_for('logout') }}" class="admin-nav-link text-danger">
            <i class="fas fa-sign-out-alt"></i> Logout
          </a>
        </div>
      </div>

      <!-- Main Content -->
      <div class="col-lg-9">
        <div class="admin-card">
          <form method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}

            <!-- Basic Information -->
            <div class="form-section">
              <h5 class="section-title">
                <i class="fas fa-info-circle me-2"></i>Basic Information
              </h5>

              <div class="mb-3">
                <label class="form-label">Product Name *</label>
                {{ form.name(class="form-control", placeholder="Enter product
                name") }} {% if form.name.errors %}
                <div class="text-danger small">
                  {% for error in form.name.errors %}{{ error }}{% endfor %}
                </div>
                {% endif %}
              </div>

              <div class="mb-3">
                <label class="form-label">Description *</label>
                {{ form.description(class="form-control", rows="5",
                placeholder="Enter product description") }} {% if
                form.description.errors %}
                <div class="text-danger small">
                  {% for error in form.description.errors %}{{ error }}{% endfor
                  %}
                </div>
                {% endif %}
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">Category *</label>
                  {{ form.category(class="form-select") }}
                </div>

                <div class="col-md-6 mb-3">
                  <label class="form-label">Subcategory</label>
                  {{ form.subcategory(class="form-control", placeholder="e.g.,
                  Mojari, Kurta Set") }}
                </div>
              </div>
            </div>

            <!-- Pricing -->
            <div class="form-section">
              <h5 class="section-title">
                <i class="fas fa-tag me-2"></i>Pricing
              </h5>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">Selling Price *</label>
                  <div class="input-group">
                    <span class="input-group-text">₹</span>
                    {{ form.price(class="form-control", placeholder="0.00") }}
                  </div>
                  {% if form.price.errors %}
                  <div class="text-danger small">
                    {% for error in form.price.errors %}{{ error }}{% endfor %}
                  </div>
                  {% endif %}
                </div>

                <div class="col-md-6 mb-3">
                  <label class="form-label"
                    >Original Price (for discount)</label
                  >
                  <div class="input-group">
                    <span class="input-group-text">₹</span>
                    {{ form.original_price(class="form-control",
                    placeholder="0.00") }}
                  </div>
                </div>
              </div>
            </div>

            <!-- Product Details -->
            <div class="form-section">
              <h5 class="section-title">
                <i class="fas fa-list-alt me-2"></i>Product Details
              </h5>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">Brand</label>
                  {{ form.brand(class="form-control", placeholder="Brand name")
                  }}
                </div>

                <div class="col-md-6 mb-3">
                  <label class="form-label">Material</label>
                  {{ form.material(class="form-control", placeholder="Material
                  type") }}
                </div>
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">Color</label>
                  {{ form.color(class="form-control", placeholder="Product
                  color") }}
                </div>

                <div class="col-md-6 mb-3">
                  <label class="form-label">Size</label>
                  {{ form.size(class="form-control", placeholder="Comma
                  separated: S, M, L") }}
                </div>
              </div>
            </div>

            <!-- Stock Management -->
            <div class="form-section">
              <h5 class="section-title">
                <i class="fas fa-warehouse me-2"></i>Stock Management
              </h5>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">Stock Quantity *</label>
                  {{ form.stock(class="form-control", placeholder="0") }} {% if
                  form.stock.errors %}
                  <div class="text-danger small">
                    {% for error in form.stock.errors %}{{ error }}{% endfor %}
                  </div>
                  {% endif %}
                </div>

                <div class="col-md-6 mb-3">
                  <label class="form-label">Availability</label>
                  <div class="checkbox-wrapper mt-2">
                    {{ form.is_available(class="form-check-input") }}
                    <label class="form-check-label"
                      >Product is available for sale</label
                    >
                  </div>
                </div>
              </div>
            </div>

            <!-- Form Actions -->
            <div class="d-flex gap-3">
              <button type="submit" class="btn btn-dark btn-lg">
                <i class="fas fa-save me-2"></i>{% if product %}Update{% else
                %}Save{% endif %} Product
              </button>
              <a
                href="{{ url_for('admin_products') }}"
                class="btn btn-outline-dark btn-lg"
              >
                Cancel
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
